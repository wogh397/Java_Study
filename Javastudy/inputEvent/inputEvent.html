<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!-- 이름 입력입력 칸에 이름을 입력시,    -->
    <h2> 전수 목록</h2>
    <input type = "text" id="playername" >
    <ul id="playerlist"></ul>

    <script>
        const players = [
            { name: "오지환", position: "유격수" },
            { name: "김현수", position: "좌익수" },
            { name: "홍창기", position: "우익수" },
            { name: "박해민", position: "중견수" },
            { name: "문보경", position: "3루수" },
            { name: "오스틴", position: "1루수" },
            { name: "신민재", position: "2루수" },
            { name: "손주영", position: "투수" },
            { name: "박동원", position: "포수" }  
        ];
        // 0.이벤트 핸들러 등록
        // 1.입력된 검색 문자열가져오기 
        // 2.선수 배열의 각 객체속 이름속성에 검색 문자열이 포함되었는지 확인해서
        // 문자열이 이름에 포함된 객체만 걸러내기
        // 3. ul 태그 객체 가져오기
        // 4. ul 태그 객체 안의 내용 비우기 (innerHTML="")
        // 5.걸러낸 객체 들 배열을 순회한느 반복문 만들기
        // 6.반복문 안에서 li 태그 객체를 만들어 배열안의 내용 넣기
        // 7. li태그를 ul태그 객체의 자식 태그로 추가하기

        // .includes("오"));

        //----------------------------------------------------
        // 아이디가 ( ) 인 태그의 value 속성 값을 ( )에 저장
        // 기존에 있는 ul태그의 자식 내용을 제거
        // players 배열을 다 돌기
        // 만약 사용자가 검색한 값이 현재 방문한 player 배열의 요소의 name 값에 포함되어 있다면
        // li 태그를 생성한다.
        // 생성된 li 태그의 선수의 이름과 포지션을 입력한다.
        // 생성된 li 태그를 부모요소인 ul의 자식오쇼로 추가한다.
        //---------------------------------------------------
        
        
        // 플레이어네임 입력 작동시,  
        document.getElementById("playername").addEventListener("input", (e)=>{
            // 아이디가 ( ) 인 태그의 value 속성 값을 ( )에 저장
            const str = document.getElementById("playername").value;
            // 기존에 있는 ul태그의 자식 내용을 제거
            
            document.getElementById("playerlist").innerHTML = "";

            // players 배열을 다 돌기
            for(let i= 0; i < players.length; i++) {
                // 만약 사용자가 검색한 값이 현재 방문한 player 배열의 요소의 name 값에 포함되어 있다면
                console.log(players[i].name.includes(str))
                if(players[i].name.includes(str)) {
                    // li 태그를 생성한다.
                    const li = document.createElement("li")
                    // 생성된 li 태그의 선수의 이름과 포지션을 입력한다.
                    li.innerText = `${players[i].name} (${players[i].position})`;
                    // 생성된 li 태그를 부모요소인 ul의 자식오쇼로 추가한다.
                    document.getElementById("playerlist").appendChild(li);
                }
            }            
        });

    </script>
</body>
</html>