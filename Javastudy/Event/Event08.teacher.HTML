<!-- 
1. 로그인 페이지 구현
2. 아이디와 비밀번호 입력 구현
3. 아이디를 입력하였을때 틀린다면 alert 메서드를 사용하여 입력이 틀렸다는 오류 출력
4. 비밀번호를 입력하였을때 틀린다면 alert 메서드를 사용하여 입력이 틀렸다는 오류 출력
7. 아이디와 비밀번호가 일치해서 성공한다면 로그인 성공  표시 필수 ex) ✅ 로그인 성공! 환영합니다. admin님! 
5. 사용자의 계정 정보를 복수 가지고 있어야 함
6. 사용자의 계정 정보는 객체를 가지고 있는 배열로 저장해야함
-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    <h2>로그인</h2>
    <form id="loginForm" name="loginForm">
        <label for="userId">아이디:</label>
        <input type="text" id="userId" name="userId" required>
        <br>

        <label for="userPw">비밀번호:</label>
        <input type="password" id="userPw" name="userPw" required>
        <br>       

        <button type="submit">로그인</button>
    </form>

    <script>
        const users = [
            { id: "user1", pw: "pass123" },
            { id: "admin", pw: "admin456" },
            { id: "testUser", pw: "test789" },
            { id: "guest", pw: "guest000" },
            { id: "developer", pw: "dev999" }
        ];


    document.loginForm.addEventListener("submit", (e)=>{
      e.preventDefault();

      const inputId = document.loginForm.userId.value;
      const inputPw = document.loginForm.userPw.value;

      변수 추가 = 틀린 경우의 변수를 추가
      flag는 무엇?
      let flag = false;
      
      // for를 사용 반복 
      for(let u of users){

          //ID가 같을때 반복
          if(u.id === inputId){
            flag = true;      
            // 
            if(u.pw === inputPw){
            
            //
              alert("로그인 성공! 환영합니다." + u.id + "님");
            
            
            }else{
            
            //
              alert("비밀번호가 일치하지 않습니다.");
            }
            break;
          }
      }

      if(!flag){
              alert("없는 아이디 입니다.");
      }


    let user=null;
    //↓map↓ 이고 객체 이다 /배열에 요소를 가져와 결과물을 리턴,
      users.forEach((u)=>{       // forEach란? 한개씩 가지고오고 한개씩 보내서 비교
    //↑↑↑ 배열 갯수만큼 진행      // map 이란?   map은 빈배열을 리턴 불가
        if(u.id===inputId){     // forEach라는 함수안에 브레이크는 사용불가
            user= u;
        }
    });
    
    // find 메소드란? 배열에 들어있는 첫번재 요소 한개만 리턴! 
    let user=users.find((u)=>u.id === inputId);
                    // 비교연산자 === 트루,펄스 비교



    // user는 null 이다
    if(!user){
        alert("없는 아이디 입니다.");
        return;
    }

    if(user.pw === inputPw){
      alert("로그인 성공! 환영합니다." + user.id + "님");
    }else{
      alert("비밀번호가 일치하지 않습니다.");
    }



    });
    



  </script>
</body>

</html>